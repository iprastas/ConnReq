(function(n){"use strict";function f(t){var f=t.data("docsTable"),u,r;i=n("<table>").addClass("table-bordered").attr("id","fixTable").appendTo(t);n("<caption>Прилагаемые документы(размером не более 10МБ каждый)<\/caption>").appendTo(i);u=n("<thead>").appendTo(i);r=n("<tr>").appendTo(u);n("<th>№<\/th>").appendTo(r);n("<th>Наименование документа<\/th>").appendTo(r);n("<th>Файл<\/th>").appendTo(r);n("<th>Действие<\/th>").appendTo(r);n(t).hide()}function e(r){var f=n("<tbody>").appendTo(i);n.ajax({type:"GET",headers:{"Cache-Control":"no-cache no-store"},url:t.url+"?t="+(new Date).getTime(),cashe:!1,success:function(i){var e,s,h;for(u=i.length,e=0;e<i.length;e++)s=n("<tr>").appendTo(f),n("<td>"+i[e].OrderNmb+"<\/td>").appendTo(s),n("<td>"+i[e].Text+"<\/td>").appendTo(s),n("<td><\/td>").appendTo(s),h=n("<td>").appendTo(s),n('<input type="file" name="fileUpload['+e+']" id="fileinput_'+i[e].OrderNmb+'" accept=".pdf,.doc,.docx"/>').appendTo(h);n(t.selector).show();o(n(r))},error:function(n){alert("Ошибка чтения списка документов. url:"+sett.url+" Статус -  "+n.status+" Техт: "+n.responseText)}})}function o(){n("input[type=file]").on("change",function(){var i=this.files[0].name,t;n(this).parent().prev().html(i);t=0;n("table tbody tr").each(function(){var i=n.trim(n(this).find("td:eq(2)").html());i.length>0&&t++});t===u&&n("#SubmitMultiply").show("slow")})}var t={};n.ajaxSetup({cache:!1});var i=null,u=0,r={init:function(i){t=n.extend({url:null,selector:null},i);t.selector=this.selector;this.data("docsTable",t);f(this)},refresh:function(){f(this)},show:function(){n(this).show("slow")},hide:function(){n(this).hide("slow")},makeBody:function(){e(this)}};n.fn.docsTable=function(t){if(r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Метод "+t+" не существует в jQuery.docsTable");else return r.init.apply(this,arguments)}})(jQuery);